# a edge extends types

**这不是一个 rollup 的插件，而是一个用于使用 ts 开发 'edge extend' 的类型包**

一个 edge extends 的 ts 类型说明，仅一点点，只有我用到的给出了

## Development reference

- [edge extends reference doc](https://learn.microsoft.com/zh-cn/microsoft-edge/extensions-chromium/)
- [chrome api reference](https://developer.chrome.com/docs/extensions/reference/api/tts?hl=zh-cn).

## 语言

[英文](https://github.com/lmssee/edgeExtendsTypes/blob/main/README.md) [Chinese](https://github.com/lmssee/edgeExtendsTypes/blob/main/自述文件.md)

## 安装

使用 `npm` 进行安装

```sh
npm install --save a-edge-extends-types@latest
```

## 使用

```ts
import { chrome } from 'a-edge-extends-types';

chrome.runtime.sendMessage({ message: 'nothing', type: 'random' }, response =>
  console.log(response),
);
```

## 如果使用混淆请注意

如果是使用 `cleanup` 这一类的混淆插件在打包后会出现问题。这时候，就需要在 rollup 打包后添加插件 `keepChrome` 。配置如下：

```js
import {...otherPlugins} from 'other-plugin-package';
import { keepChrome } from 'a-edge-extends-types';

export default {
  ...otherSetting,
  plugins:{
    ...otherPlugins(),
    keepChrome(),
  }
}
```

- 请把该插件放至最后
- 会对 sourcemap 造成一定影响，但现在没时间处理这个副作用。我更需要一份工作

## 说明

当前仅给出了特别少的一部分，如下列表：

- action （啥也没有）
- i18n (全部)
- contextMenus (貌似全部)
- tts （全部）
- runtime
  - onload
  - sendMessage
  - onMessage
    - addListener
- storage (全部)
- tabs
  - tab (全部)
  - query
  - sendMessage
